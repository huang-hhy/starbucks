<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>星巴克</title>
    <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/index.css">
</head>
<script>
    window.onload = function () {
        let img1 = document.getElementById("img1");
        let img2 = document.getElementById("img2");
        let swipt_box = document.getElementsByClassName('swipt_box')[0];
        let main = document.getElementsByClassName('main')[0]
        let index = 1;
        // let imgWidth = img1.offsetWidth;

        let dyztp = swipt_box.children[0] // 获取第一张
        let deztp = swipt_box.children[swipt_box.children.length - 1] // 获取最后一张
        swipt_box.appendChild(dyztp.cloneNode(true))
        swipt_box.insertBefore(deztp.cloneNode(true), swipt_box.childNodes[0])
        

        Array.from(swipt_box.children).forEach(item => {
            console.log(item);
            item.style.width = main.offsetWidth + 'px'
            imgWidth = main.offsetWidth
        })

        swipt_box.style.transition = 'none'
        swipt_box.style.transform = 'translateX(' + (-imgWidth * index) + 'px)'

        setTimeout(swiptr, 2000);
        function swiptr() {
            if (index > swipt_box.children.length - 2) {
                setTimeout(swiptr, 2000);
                index = 1
                swipt_box.style.transition = 'none'
                swipt_box.style.transform = 'translateX(' + (-imgWidth * index) + 'px)'
                return;
            }
            index++;
            swipt_box.style.transition = 'all 1s'
            swipt_box.style.transform = 'translateX(' + (-imgWidth * index) + 'px)'
            swipt_box.ontransitionend = function () {
                setTimeout(swiptr, 2000);
            }
        }
        window.onresize = function(){
            Array.from(swipt_box.children).forEach(item => {
                item.style.width = main.offsetWidth + 'px'
            })
            imgWidth = main.offsetWidth
            // swipt_box.style.transition = 'none'
            swipt_box.style.transform = 'translateX(' + (-main.offsetWidth * index) + 'px)'
        };
    }
</script>

<body>
    <div class="container-flex">
        <div class="row">
            <div class="col-md-4 top">
                <div class="header hidden-xs">
                    <div class="row ">
                        <div class="col-md-2"><img
                                src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/logo.svg"
                                alt="星巴克"></div>
                        <div class="col-md-2">门店</div>
                        <div class="col-md-2">我的账户</div>
                        <div class="col-md-2">菜单</div>
                        <div class="col-md-2 col-md-offset-2">
                            ——
                        </div>
                    </div>
                </div>
                <div class="body">
                    <div class="zeb">
                        <div class="">心情假意，来杯咖啡吧</div>
                        <p class="hidden-xs"><span>登录</span><span>注册</span></p>
                    </div>
                </div>
            </div>
            <div class="col-md-8 img" style="padding: 0;border-left: 1px solid #cccc;float: right;">
                <div class="main">
                    <div class="swipt_box" >
                        <img id="img1"
                            src="https://artwork.starbucks.com.cn/banners-homepage-banner/main_61babe13-d569-476b-8bd6-e75068943318.jpg"
                            class="carousel-image tablet-block mobile-hidden">
                        <img id="img2"
                            src="https://artwork.starbucks.com.cn/banners-homepage-banner/main_6f1c9a9f-d029-4d02-85b1-3ab3158ba6f8.jpg"
                            class="carousel-image tablet-block mobile-hidden">
                    </div>
                </div>

                <div class="san clearfix">
                    <div class="">
                        <img id="home-left-campaign-img"
                            src="https://www-static.chinacdn.starbucks.com.cn/prod/images/pages/tmall-2020-06-29-zh.jpg">
                    </div>
                    <div class="">
                        <img id="home-left-campaign-img"
                            src="https://www-static.chinacdn.starbucks.com.cn/prod/images/pages/tmall-2020-06-29-zh.jpg">
                    </div>
                    <div class="">
                        <img id="home-left-campaign-img"
                            src="https://www-static.chinacdn.starbucks.com.cn/prod/images/pages/tmall-2020-06-29-zh.jpg">
                    </div>

                </div>
                <div class="wrapper">
                    <div class="box clear-fix">
                        <div class="div1">
                            <h2>兴县俱乐部</h2>
                            <p>开启您的星享之旅，星星越多、会员等级越高、好礼越丰富。</p>
                            <a href="#">注册</a><a href="#">登录</a>
                        </div>
                        <div class="div2 hidden-xs ">
                            <img src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/logo-msr-new.svg">
                        </div>
                    </div>
                </div>
                <div class="jingxuan">
                    <div class="center">
                        <p>星巴克</p>
                        <p style="margin-bottom: 50px;">星巴克天猫旗舰店发现更多咖啡心意</p>
                        <ul>
                            <li>
                                <img
                                    src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/tmall-card-01.png">
                                <p style="font-size: 20px;">会员星礼包</p>
                                <p class="margin2">星享卡新升级</p>
                                <p>更多心意好礼</p>
                                <p style="margin-top: 20px;" class="caption">了解更多 ›</p>
                            </li>
                            <li>
                                <img
                                    src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/tmall-card-01.png">
                                <p style="font-size: 20px;">会员星礼包</p>
                                <p class="margin2">星享卡新升级</p>
                                <p>更多心意好礼</p>
                                <p style="margin-top: 20px;" class="caption">了解更多 ›</p>
                            </li>
                            <li>
                                <img
                                    src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/tmall-card-01.png">
                                <p style="font-size: 20px;">会员星礼包</p>
                                <p class="margin2">星享卡新升级</p>
                                <p>更多心意好礼</p>
                                <p style="margin-top: 20px;" class="caption">了解更多 ›</p>
                            </li>
                            <li>
                                <img
                                    src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/tmall-card-01.png">
                                <p style="font-size: 20px;">会员星礼包</p>
                                <p class="margin2">星享卡新升级</p>
                                <p>更多心意好礼</p>
                                <p style="margin-top: 20px;" class="caption">了解更多 ›</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="coffeehouse">
                    <div class="center">
                        <h2 class="wrapper-mobile">1912 派克街 | 咖啡星讲堂</h2>
                        <p class="light wrapper-mobile">了解更多星巴克咖啡文化</p>
                    </div>
                    <div class="zhishi clearfix">
                        <div>
                            <img src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/coffeehouse-coffee-cultivation-kv.jpg"
                                alt="">
                            <p>咖啡的起源与培植</p>
                        </div>
                        <div>
                            <img src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/coffeehouse-coffee-cultivation-kv.jpg"
                                alt="">
                            <p>咖啡的起源与培植</p>
                        </div>
                        <div>
                            <img src="https://www-static.chinacdn.starbucks.com.cn/prod/assets/images/homepage/coffeehouse-coffee-cultivation-kv.jpg"
                                alt="">
                            <p>咖啡的起源与培植</p>
                        </div>
                    </div>
                    <div class="footer">
                        <p> 31010402000253号</p>
                    </div>
                </div>

            </div>
        </div>
        <div class="navbar visible-xs-block">
            <div>
                <p>首页</p>
            </div>
            <div>
                <p>首页</p>
            </div>
            <div>
                <p>首页</p>
            </div>
            <div>
                <p>首页</p>
            </div>
            <div>
                <p>首页</p>
            </div>
        </div>
    </div>
</body>

</html>